modern_xiangqi_general
[Config]
royalty 0
icon modern_chess_king.png
[Variables]
positionY = 0
positionX = 0
[Moves]
JUMP s0,1 ACP f0,0 NOTCONT ally ATK f0,0 VMC s.positionY < 2 SET s.positionY += 1
JUMP s1,0 ACP f0,0 NOTCONT ally ATK f0,0 VMC s.positionX <= 4 SET s.positionX += 1
JUMP s0,-1 ACP f0,0 NOTCONT ally ATK f0,0 SET s.positionY -= 1
JUMP s-1,0 ACP f0,0 NOTCONT ally ATK f0,0 VMC s.positionX >= 4 SET s.positionX -= 1
#add flying general move
JUMP s0,5 ACP f0,0 CONTONLY modern_xiangqi_general ACP s0,[1,4] NOTCONT * ATK f0,0
JUMP s0,6 ACP f0,0 CONTONLY modern_xiangqi_general ACP s0,[1,5] NOTCONT * ATK f0,0
JUMP s0,7 ACP f0,0 CONTONLY modern_xiangqi_general ACP s0,[1,6] NOTCONT * ATK f0,0
JUMP s0,8 ACP f0,0 CONTONLY modern_xiangqi_general ACP s0,[1,7] NOTCONT * ATK f0,0
JUMP s0,9 ACP f0,0 CONTONLY modern_xiangqi_general ACP s0,[1,8] NOTCONT * ATK f0,0
#JUMP s2,0 ACP s0,0 CONTONLY modern_chess_king ACP s[1,2],0 NOTCONT * ACP s3,0 CONTONLY modern_chess_rook ACP s3,0 CONTONLY ally VMC s.moves == 0 VMC s3,0.moves == 0 SET s.moves += 1 SET s3,0.moves += 1 COMBI s3,0 s1,0 ATKBL s[0,3],0 for 1
#JUMP s-2,0 ACP s0,0 CONTONLY modern_chess_king ACP s[-2,-1],0 NOTCONT * ACP s-4,0 CONTONLY modern_chess_rook ACP s-4,0 CONTONLY ally VMC s.moves == 0 VMC s-4,0.moves == 0 SET s.moves += 1 SET s-4,0.moves += 1 COMBI s-4,0 s-1,0 ATKBL s[-4,0],0 for 1
